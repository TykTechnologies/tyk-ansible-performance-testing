{
  "name": "Tyk Test API",
  "api_id": "1",
  "org_id": "default",
{% if enable_auth %}
  "definition": {
    "location": "header",
    "key": "version"
  },
  "auth": {
    "auth_header_name": "authorization"
  },
{% else %}
  "auth": {},
  "use_keyless": true,
{% endif %}
  "version_data": {
    "not_versioned": true,
    "versions": {
      "Default": {
        "name": "Default",
        "expires": "3000-01-02 15:04",
        "use_extended_paths": true,
        "extended_paths": {
          "ignored": [],
          "white_list": [],
          "black_list": []
        }
      }
    }
  },
  "proxy": {
    "listen_path": "/api/",
    "target_url": "http://{{ upstream_host }}:{{ upstream.service.port }}",
    "strip_listen_path": true
  },
  "enable_batch_request_support": true,
  "cache_options": {
    "enable_cache": false,
    "cache_all_safe_requests": false
  },
  "disable_quota": {{ (not(enable_quota | bool)) | lower }},
  "disable_rate_limit": {{ (not(enable_rate_limiting | bool)) | lower }}
}
